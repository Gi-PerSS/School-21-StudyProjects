## Part 1. Установка ОС
- Установить **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)
- Графический интерфейс должен отсутствовать.
- Узнайте версию Ubuntu, выполнив команду \
`cat /etc/issue.`
- Вставьте скриншот с выводом команды.

![linux](screenshots/1.png)

## Part 2. Создание пользователя
- Создать пользователя, отличного от пользователя, который создавался при установке. Пользователь должен быть добавлен в группу `adm`.
- Вставьте скриншот вызова команды для создания пользователя.

![linux](screenshots/2.0.png)

![linux](screenshots/2.1.png)

- Новый пользователь должен быть в выводе команды \
`cat /etc/passwd`
- Вставьте скриншот с выводом команды.

![linux](screenshots/2.2.png)

## Part 3. Настройка сети ОС
- Задать название машины вида user-1. 
  ![linux](screenshots/3.0.png)
- Установить временную зону, соответствующую вашему текущему местоположению.

![linux](screenshots/3.1.png)

- Вывести названия сетевых интерфейсов с помощью консольной команды.

![linux](screenshots/3.2.png)

- В отчёте дать объяснение наличию интерфейса lo. 
  - Смысл этого интерефейса состоит в том, чтобы обеспечить сетевое соединение компьютера с самим собой. Что используется в основном для диагностики и работы с серверами запущенными на данной машине. Адрес интерфейса 127.0.0.1, маска 255.0.0.0, однако, практически, для идентификации устройства обычно используется только адрес 127.0.0.1.
- Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера. 

![linux](screenshots/3.3.png)

- В отчёте дать расшифровку DHCP.  
  - DHCP - Dynamic Host Configuration Protocol — протокол динамической настройки узла. Служит для автоматического распределения ip-адресов в сети.
- Определить и вывести на экран внешний ip-адрес шлюза (ip)
  - 'curl ifconfig.me/ip'
- и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
  - 'ip route show match 0/0'
- Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
- Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  

![linux](screenshots/3.4.png)

- Успешно пропинговать удаленные хосты 1.1.1.1 и ya.ru и вставить в отчёт скрин с выводом команды. В выводе команды должна быть фраза "0% packet loss".

![linux](screenshots/3.5.png)

## Part 4. Обновление ОС
- Обновить системные пакеты до последней на момент выполнения задания версии.  
- После обновления системных пакетов, если ввести команду обновления повторно, должно появится сообщение, что обновления отсутствуют.
- Вставить скриншот с этим сообщением в отчёт.

![linux](screenshots/4.0.png)

## Part 5. Использование команды **sudo**
- Разрешить пользователю, созданному в [Part 2](#part-2-создание-пользователя), выполнять команду sudo.

![linux](screenshots/5.0.png)

- В отчёте объяснить *истинное* назначение команды sudo (про то, что это слово - "волшебное", писать не стоит). 
  - Команда sudo ( substitute user and do, подменить пользователя и выполнить ) позволяет строго определенным пользователям выполнять указанные программы с административными привилегиями без ввода пароля суперпользователя root. Если быть точнее, то команда sudo позволяет выполнять программы от имени любого пользователя, но, если идентификатор или имя этого пользователя не указаны, то предполагается выполнение от имени суперпользователя root.
  
- Поменять hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo). Вставить скрин с изменённым hostname в отчёт.

![linux](screenshots/5.1.png)

## Part 6. Установка и настройка службы времени
- Настроить службу автоматической синхронизации времени.  
- Вывести время, часового пояса, в котором вы сейчас находитесь.
- Вывод следующей команды должен содержать `NTPSynchronized=yes`: \
  `timedatectl show`
- Вставить скрины с корректным временем и выводом команды в отчёт.

![linux](screenshots/6.0.png)

## Part 7. Установка и использование текстовых редакторов 
- Установить текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.)  
- Используя каждый из трех выбранных редакторов, создайте файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений.  
- В отчёт вставьте скриншоты:
  - Из каждого редактора с содержимым файла перед закрытием.

![linux](screenshots/7.0.png)

![linux](screenshots/7.1.png)

![linux](screenshots/7.2.png)

- В отчёте укажите, что сделали для выхода с сохранением изменений.
  - Vim - последовательность: 'Esc', ':wq'.
  - Mcedit - последовательность: 'F2', 'F10'
  - Nano - последовательность: '^O', '^X'
- Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.
- В отчёт вставьте скриншоты:
  - Из каждого редактора с содержимым файла после редактирования.

![linux](screenshots/7.3.png)

![linux](screenshots/7.4.png)

![linux](screenshots/7.5.png)

- В отчёте укажите, что сделали для выхода без сохранения изменений.
  - Vim - последовательность: 'Esc', ':q!'.
  - Mcedit - последовательность: 'F10', 'No'.
  - Nano - последовательность: '^X', 'n'.
- Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.
- В отчёт вставьте скриншоты:
  - Из каждого редактора с результатами поиска слова.
  - Из каждого редактора с командами, введёнными для замены слова на другое.
  - Результаты:
  - Mcedit

![linux](screenshots/7.6.png)

![linux](screenshots/7.7.png)

  - Vim. 
   - Команда поиска: '/search_pattern', следующее вхождение 'n', предыдущее 'N'.
   - Команды замены: 
    - 's/search_pattern/replace_pattern/' - замена первого вхождения в текущей строке
    - 's/search_pattern/replace_pattern/g' - замена всех вхождений в текущей строке
    - '%s/search_pattern/replace_pattern/g' - знак % перед s используется для замены во всем файле.

![linux](screenshots/7.8.png)

![linux](screenshots/7.9.png)

  - Nano.
   - Команда поиска: '^w', следующее вхождение 'Alt + w'
   - Замены: '^\\'

![linux](screenshots/7.10.png)

![linux](screenshots/7.11.png)

## Part 8. Установка и базовая настройка сервиса **SSHD**
- Установить службу SSHd.  
- Добавить автостарт службы при загрузке системы.  
- Перенастроить службу SSHd на порт 2022.  
- Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи.

![linux](screenshots/8.0.png)

- В отчёте объяснить значение команды и каждого ключа в ней.
 - Объяснение. Получить список всех процессов, выполняющихся в системах Linux и AIX, можно с помощью команды ps aux. Ключ а используется для отображения всех процессов, х — для отображения процессов, отсоединенных от термина­ла, а ключ u обеспечивает фильтрование по имени или идентификатору поль­зователя, который запустил программу.
- Перезагрузить систему.
- В отчёте опишите, что сделали для выполнения всех пяти пунктов (можно как текстом, так и скриншотами). Описание:
  - sudo apt-get update
  - sudo apt-get install openssh-server
  - sudo systemctl status ssh
  - sudo nano /etc/ssh/sshd_config - строка с указанием порта раскомментирована и порт заменен на 2022.
  - sudo systemctl restart sshd 
- Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  \
(если команды netstat нет, то ее нужно установить)
- Скрин с выводом команды вставить в отчёт.

![linux](screenshots/8.1.png)

- В отчёте объяснить значение ключей -tan, значение каждого столбца вывода, значение 0.0.0.0. 
- Объяснение:
  - netstat (network statistics) — утилита командной строки, выводящая на дисплей состояние TCP-соединений (как входящих, так и исходящих), таблицы маршрутизации, число сетевых интерфейсов и сетевую статистику по протоколам.
  - t - используется для того, чтобы выделить активные TCP соединения
  - a или -all - выводит информацию о всех сокетах (об активных которые слушают порты и неактивных, которые не слушают).
  - n - Показывать сетевые адреса как числа. netstat обычно показывает адреса как символы. Эту опцию можно использовать с любым форматом показа.
 - Расшифровка таблицы:
  - PROTO - название протокола
  - Recv-Q - очередь данных на прием. Число в этом поле показывает, что приложение не считало данные, поступившие через сеть из буфера протокола.
  - Send-Q - очередь данных на отправку. Число в этом поле показывает, что данные поступили в буфер отправки, но еще не были переданы. Что может указывать на высокую загрузку сети.
  - Local Adress - адрес локальной машины и прослушиваемый порт. Значение 0.0.0.0 говорит о том, что порт слушается на всех сетевых интерфейсах. Значение 127.0.0.0 о том, что порт слушается внутри локальной машины.
  - Foreign Address - адрес и порт удаленной машины, с которой установлено соединение. '*' говорит о том, что порт не определен.
  - State - состояние порта LISTEN - слушается. Возможные состояния: 
   - CLOSE_WAIT - ожидание закрытия соединения.
   - CLOSED - соединение закрыто.
   - ESTABLISHED - соединение установлено.
   - LISTENING - ожидается соединение (слушается порт)
   - TIME_WAIT - превышение времени ответа.

## Part 9. Установка и использование утилит **top**, **htop**
- Установить и запустить утилиты top и htop.  
- По выводу команды top определить и написать в отчёте:

![linux](screenshots/9.0.png)

  - uptime: 37 min.
  - количество авторизованных пользователей: 1 user
  - общую загрузку системы: 0.0 
  - общее количество процессов: 101 
  - загрузку cpu: 0.0 us — пользовательские процессы; 0.3 sy — процессы ядра; 0.0 ni - время затраченное CPU на выполнение процессов с искусственно измененным приоритетом; 99.7 id — неиспользуемые ресурсы; 0.0 wa — операции ввода/вывода; 0.0 hi - время потраченное CPU на обслуживание аппаратных прерываний; 0.0 si - время потраченное CPU на обслуживание программных прерываний; 0.0 st - время CPU, "украденное" у данной виртуальной машины для обслуживания других виртуальных машин.  
  - загрузку памяти: 161.1 MiB used - всего 976.9, свободно 426.0, память под кэш и буферы ядра 389.7
  - pid процесса занимающего больше всего памяти: 714
  - pid процесса, занимающего больше всего процессорного времени: 1119

![linux](screenshots/9.1.png)

- В отчёт вставить скрин с выводом команды htop:
  - отсортированному по 
   - PID

![linux](screenshots/9.2.png)   

   - PERCENT_CPU

![linux](screenshots/9.3.png)    

   - PERCENT_MEM

![linux](screenshots/9.4.png) 

   - TIME

![linux](screenshots/9.5.png)   

  - отфильтрованному для процесса sshd

![linux](screenshots/9.6.png)

  - с процессом syslog, найденным, используя поиск 

![linux](screenshots/9.7.png)

  - с добавленным выводом hostname, clock и uptime  

![linux](screenshots/9.8.png)

## Part 10. Использование утилиты **fdisk**
- Запустить команду fdisk -l.
- В отчёте написать название жесткого диска, его размер и количество секторов, а также размер swap.
  - Название жесткого диска, на скриншоте - Disk Identifier
  - Размер - сумма размеров всех разделов, т.е. примерно 10 Гб.
  - Количество секторов - сумма количества секторов всех указанных разделов, т.е. 20967424.
  - Размер swap - 0. 

![linux](screenshots/10.0.png)

## Part 11. Использование утилиты **df** 
- Запустить команду df.  
- В отчёте написать для корневого раздела (/):
  - размер раздела: 9299276 Kb
  - размер занятого пространства: 4847732 Kb
  - размер свободного пространства: 3957568 Kb
  - процент использования: 56%
- Определить и написать в отчёт единицу измерения в выводе: блок размером в 1 Kb.

![linux](screenshots/11.0.png)

- Запустить команду df -Th.
- В отчёте написать для корневого раздела (/):
    - размер раздела: 8.9 Gb
    - размер занятого пространства: 4.7 Gb
    - размер свободного пространства: 3.8 Gb
    - процент использования: 56%
- Определить и написать в отчёт тип файловой системы для раздела: ext4

![linux](screenshots/11.1.png)

## Part 12. Использование утилиты **du**
- Запустить команду du. Вывести размер папок (в байтах, в человекочитаемом виде): 
 - /home

![linux](screenshots/12.0.png)

 - /var

![linux](screenshots/12.1.png)

 - /var/log 

![linux](screenshots/12.2.png)

 - Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)

![linux](screenshots/12.3.png)

## Part 13. Установка и использование утилиты **ncdu**
- Установить утилиту ncdu.
- Вывести размер папок /home, /var

![linux](screenshots/13.0.png)

- /var/log

![linux](screenshots/13.1.png)

- Размеры должны примерно совпадать с полученными в [Part 12].
- В отчёт вставить скрины с выводом использованных команд.

![linux](screenshots/13.2.png)

## Part 14. Работа с системными журналами
- Открыть для просмотра:
 1. /var/log/dmesg
 2. /var/log/syslog
 3. /var/log/auth.log  
- Написать в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему.

![linux](screenshots/14.0.png)

- Перезапустить службу SSHd.
- Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).

![linux](screenshots/14.1.png)

## Part 15. Использование планировщика заданий **CRON**
- Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.
- Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.
- Вывести на экран список текущих заданий для CRON.
- Вставить в отчёт скрины со строчками о выполнении и списком текущих задач.

![linux](screenshots/15.0.png)

- Удалите все задания из планировщика заданий.
- В отчёт вставьте скрин со списком текущих заданий для CRON.

![linux](screenshots/15.1.png)