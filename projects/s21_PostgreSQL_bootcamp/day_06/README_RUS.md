# Piscine SQL - День 06

## Расширение модели данных для системы скидок

### Упражнение 00
**Задача:** Создать таблицу `person_discounts` для хранения персональных скидок с полями:
- id (первичный ключ)
- person_id (внешний ключ)
- pizzeria_id (внешний ключ)
- discount (число с плавающей точкой)

### Упражнение 01
**Задача:** Заполнить таблицу `person_discounts` на основе истории заказов:
- Скидка 10.5% для 1 заказа
- 22% для 2 заказов
- 30% для 3+ заказов
- Использовать ROW_NUMBER() для генерации id

### Упражнение 02
**Задача:** Написать запрос, возвращающий заказы с исходной ценой и ценой со скидкой, отсортированный по имени и пицце.

### Упражнение 03
**Задача:** Создать уникальный индекс `idx_person_discounts_unique` для предотвращения дубликатов пар (person_id, pizzeria_id).

### Упражнение 04
**Задача:** Добавить ограничения для таблицы `person_discounts`:
- NOT NULL для всех полей
- Значение по умолчанию 0 для скидки
- Ограничение диапазона скидки (0-100)

### Упражнение 05
**Задача:** Добавить комментарии к таблице `person_discounts` и ее колонкам.

### Упражнение 06
**Задача:** Создать последовательность `seq_person_discounts` и настроить автоинкремент для id.

[English version](README.md)